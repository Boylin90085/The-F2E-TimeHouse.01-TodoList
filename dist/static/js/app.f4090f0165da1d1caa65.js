webpackJsonp([1],{"8hBn":function(t,s){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=a("7+uW"),e=a("mtWM"),i=a.n(e),n=a("Rf8U"),r=a.n(n),l=(a("Zf1F"),a("Dd8w")),c=a.n(l),d={props:["todo"],name:"Todo",methods:{updateStar:function(){var t=this,s="http://localhost:3000/todos/"+t.todo.id,a=c()({},t.todo);a.stared=!t.todo.stared,t.$http.put(s,a).then(function(s){console.log(s),t.addStarStyle()})},addStarStyle:function(){this.$emit("addStared")}}},f={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mb-4"},[a("div",{staticClass:"todo-item",class:{stared:t.todo.stared}},[t._m(0),a("div",{staticClass:"todo-header"},[a("div",{staticClass:"todo-check"},[a("input",{attrs:{type:"checkbox",id:t.todo.id}}),a("label",{attrs:{for:t.todo.id}})]),a("label",{staticClass:"todo-title"},[a("span",[t._v(t._s(t.todo.message))])]),a("div",{staticClass:"todo-control"},[a("a",{staticClass:"text-muted",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateStar(s)}}},[t.todo.stared?a("i",{staticClass:"fas fa-star mr-3"}):a("i",{staticClass:"far fa-star mr-3"})]),t._m(1)])]),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"handle text-muted"},[s("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"text-muted",attrs:{href:"#"}},[s("i",{staticClass:"fas fa-pencil-alt"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"todo-footer text-secondary"},[s("i",{staticClass:"far fa-calendar-alt"},[this._v(" ")]),s("span",[this._v("form: 2018-06-28")]),s("span",[this._v("~")]),s("span",[this._v("to: 2018-06-28")]),s("i",{staticClass:"fas fa-comment-dots ml-3"},[this._v(" 3")])])}]},u=a("VU/8")(d,f,!1,null,null,null).exports,m={props:["todo"],name:"EditTodo",data:function(){return{cacheTodo:{}}},methods:{updateTodo:function(){console.log(this.cacheTodo);var t=this,s=c()({},t.cacheTodo,{stared:!1,compeleted:"progress"});t.$http.post("http://localhost:3000/todos",s).then(function(s){console.log(s),t.closeTodo()})},closeTodo:function(){this.$emit("closeEditTodo")}}},h={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mb-4"},[a("div",{staticClass:"todo-item active"},[a("div",{staticClass:"todo-header"},[a("label",{staticClass:"todo-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.message,expression:"cacheTodo.message"}],staticClass:"form-control",attrs:{type:"text",value:"可輸入內容"},domProps:{value:t.cacheTodo.message},on:{input:function(s){s.target.composing||t.$set(t.cacheTodo,"message",s.target.value)}}})])]),t._m(0),a("div",{staticClass:"todo-btn-group d-flex"},[t._m(1),a("button",{staticClass:"btn btn-primary w-50 btn-lg",on:{click:t.updateTodo}},[a("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Update Task")])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"todo-body"},[s("div",{staticClass:"todo-content"},[s("div",{staticClass:"todo-row"},[s("div",{staticClass:"todo-icon"},[s("i",{staticClass:"far fa-calendar-alt"})]),s("div",[s("label",{attrs:{for:""}},[this._v("Deadline")]),s("div",{staticClass:"form-inline todo-form-control"},[s("input",{staticClass:"form-control border-0",attrs:{type:"date"}}),s("input",{staticClass:"form-control border-0 ml-2",attrs:{type:"date"}})])])]),s("div",{staticClass:"todo-row"},[s("div",{staticClass:"todo-icon"},[s("i",{staticClass:"far fa-comment-dots"})]),s("div",{staticClass:"todo-form-control"},[s("label",{attrs:{for:""}},[this._v("Comment")]),s("div",{staticClass:"bg-white p-3 my-3"},[this._v("留言訊息")]),s("div",[s("textarea",{staticClass:"form-control w-100 border-0",attrs:{name:""}})])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"btn text-danger w-50 btn-lg"},[s("i",{staticClass:"fas fa-times"},[this._v(" ")]),this._v("Cancel")])}]},p=a("VU/8")(m,h,!1,null,null,null).exports,v=a("DAYN"),C={name:"App",data:function(){return{todos:[{message:"第一筆資訊",startDate:"2018-06-06",endDate:"2018-06-28",timestamp:1528254270,stared:!1,comments:[],id:2,completed:"progress"}],isNewTodo:!1,sortData:[]}},components:{TodoItem:u,EditTodoItem:p,draggable:a.n(v).a},created:function(){this.getData()},methods:{closeEdit:function(){this.isNewTodo=!1,this.getData()},getData:function(){var t=this;t.$http.get("http://localhost:3000/todos").then(function(s){return console.log(s),t.todos=s.data,t.$http.get("http://localhost:3000/sort").then(function(t){})})},dragItem:function(){console.log(this.todos);var t=this.todos.map(function(t){return t.id});this.$http.post("http://localhost:3000/sort",{sort:t}).then(function(t){console.log(t)})}}},_={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[t._m(0),a("div",{staticClass:"container my-4"},[!1===t.isNewTodo?a("div",{staticClass:"position-relative"},[a("i",{staticClass:"fas fa-plus fa-lg text-black-50 position-absolute",staticStyle:{left:"1rem",top:"1.15rem"}}),a("input",{staticClass:"form-control form-control-lg pl-5",attrs:{type:"text"},on:{click:function(s){t.isNewTodo=!0}}})]):t._e(),a("div",{staticClass:"mt-4"},[!0===t.isNewTodo?a("edit-todo-item",{on:{closeEditTodo:t.closeEdit}}):t._e(),a("draggable",{attrs:{options:{handle:".handle"}},on:{end:t.dragItem},model:{value:t.todos,callback:function(s){t.todos=s},expression:"todos"}},t._l(t.todos,function(s,o){return a("todo-item",{key:o,attrs:{todo:s},on:{addStared:t.getData}})}))],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"bg-primary"},[s("div",{staticClass:"container justify-content-between d-flex todo-nav"},[s("a",{staticClass:"active",attrs:{href:"#"}},[this._v("My Task")]),s("a",{attrs:{href:"#"}},[this._v("In Progress")]),s("a",{attrs:{href:"#"}},[this._v("Completed")])])])}]};var g=a("VU/8")(C,_,!1,function(t){a("8hBn")},null,null).exports,b=a("/ocq");o.a.use(b.a);var T=new b.a({});o.a.use(r.a,i.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:T,components:{App:g},template:"<App/>"})},Zf1F:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.f4090f0165da1d1caa65.js.map